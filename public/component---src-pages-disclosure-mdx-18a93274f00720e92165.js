(self.webpackChunkreach_ui_website=self.webpackChunkreach_ui_website||[]).push([[974],{7026:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return k}});var a=n(2265),l=(n(7294),n(4983)),r=n(1255),s=n(2335),o=n(6182),i=n(8819),u=n(3989),c=["components"],d={},p={_frontmatter:d},m=r.Z;function k(e){var t=e.components,n=(0,a.Z)(e,c);return(0,l.kt)(m,Object.assign({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(s.Z,{title:"Disclosure",description:"Accessible disclosure component for React",mdxType:"SEO"}),(0,l.kt)("h1",{id:"disclosure"},"Disclosure"),(0,l.kt)(o.Nt,{mdxType:"TOC"},(0,l.kt)(o.B$,{mdxType:"TOCList"},(0,l.kt)(o.G6,{href:"#disclosure-1",mdxType:"TOCLink"},"Disclosure"),(0,l.kt)(o.G6,{href:"#disclosurebutton",mdxType:"TOCLink"},"DisclosureButton"),(0,l.kt)(o.G6,{href:"#disclosurepanel",mdxType:"TOCLink"},"DisclosurePanel"),(0,l.kt)(o.G6,{href:"#usedisclosurecontext",mdxType:"TOCLink"},"useDisclosureContext"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Source: ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/reach/reach-ui/tree/main/packages/disclosure"},"https://github.com/reach/reach-ui/tree/main/packages/disclosure")),(0,l.kt)("li",{parentName:"ul"},"WAI-ARIA: ",(0,l.kt)("a",{parentName:"li",href:"https://www.w3.org/TR/wai-aria-practices-1.2/#disclosure"},"https://www.w3.org/TR/wai-aria-practices-1.2/#disclosure"))),(0,l.kt)("p",null,"A disclosure is a button that controls the visibility of a panel of content. When the content inside the panel is hidden, it is often styled as a typical push button with a right-pointing arrow or triangle to hint that activating the button will display additional content. When the content is visible, the arrow or triangle typically points down."),(0,l.kt)("p",null,"If you have a group of disclosures that stack vertically and exist within the same logical context, you may want to use ",(0,l.kt)("a",{parentName:"p",href:"/accordion"},(0,l.kt)("inlineCode",{parentName:"a"},"@reach/accordion"))," instead."),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("p",null,"From the command line in your project directory, run ",(0,l.kt)("inlineCode",{parentName:"p"},"npm install @reach/disclosure")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"yarn add @reach/disclosure"),". Then import the components that you need:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @reach/disclosure\n# or\nyarn add @reach/disclosure\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import {\n  Disclosure,\n  DisclosureButton,\n  DisclosurePanel,\n} from "@reach/disclosure";\n')),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"// jsx-demo\nfunction Example() {\n  return (\n    <Disclosure>\n      <DisclosureButton>Find out what lies beneath</DisclosureButton>\n      <DisclosurePanel>Here I am! I am the buried treasure!</DisclosurePanel>\n    </Disclosure>\n  );\n}\n")),(0,l.kt)("h2",{id:"component-api"},"Component API"),(0,l.kt)("h3",{id:"disclosure-1"},"Disclosure"),(0,l.kt)("p",null,"The wrapper component and context provider for a disclosure's button and panel components. A disclosure should never have more than one button or panel descendants."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"<Disclosure>\n  <DisclosureButton>Do a thing</DisclosureButton>\n  <DisclosurePanel>...</DisclosurePanel>\n</Disclosure>\n")),(0,l.kt)("p",null,"It is important to note that the ",(0,l.kt)("inlineCode",{parentName:"p"},"Disclosure")," component doesn't actually render a DOM node, so there is no way to add styles to a disclosure wrapper directly. If you want your disclosure to have a wrapper element you can nest one directly."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"<Disclosure>\n  <div style={{ padding: 10 }}>\n    <DisclosureButton>Do a thing</DisclosureButton>\n    <DisclosurePanel>...</DisclosurePanel>\n  </div>\n</Disclosure>\n")),(0,l.kt)("h4",{id:"controlled-disclosure"},"Controlled Disclosure"),(0,l.kt)("p",null,"If you want to control the disclosure's value, you can do so by passing ",(0,l.kt)("a",{parentName:"p",href:"#disclosure-open"},(0,l.kt)("inlineCode",{parentName:"a"},"open"))," and ",(0,l.kt)("a",{parentName:"p",href:"#disclosure-onchange"},(0,l.kt)("inlineCode",{parentName:"a"},"onChange"))," props."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"const [isOpen, setOpen] = React.useState(false);\nreturn (\n  <Disclosure open={isOpen} onChange={() => setOpen(!isOpen)}>\n    <DisclosureButton />\n    <DisclosurePanel />\n  </Disclosure>\n);\n")),(0,l.kt)("h4",{id:"disclosure-props"},"Disclosure Props"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Prop"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosure-children"},(0,l.kt)("inlineCode",{parentName:"a"},"children"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"node")),(0,l.kt)("td",{parentName:"tr",align:null},"true")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosure-defaultopen"},(0,l.kt)("inlineCode",{parentName:"a"},"defaultOpen"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosure-id"},(0,l.kt)("inlineCode",{parentName:"a"},"id"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")," ",(0,l.kt)(u.E,{mdxType:"Pipe"})," ",(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosure-onchange"},(0,l.kt)("inlineCode",{parentName:"a"},"onChange"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"func")),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosure-open"},(0,l.kt)("inlineCode",{parentName:"a"},"open"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"false")))),(0,l.kt)("h5",{id:"disclosure-children"},"Disclosure children"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"children: React.ReactNode")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Disclosure")," expects to receive accept ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosureButton")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosurePanel")," components as either direct children or descendants. It can also accept wrapper elements if desired, though it is not recommended to pass other arbitrary components within a disclosure in most cases."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"<div>\n  {/* OK! */}\n  <Disclosure>\n    <DisclosureButton>Click Me</DisclosureButton>\n    <DisclosurePanel>Collapse or open this content!</DisclosurePanel>\n  </Disclosure>\n\n  {/* Also OK! */}\n  <Disclosure>\n    <div>\n      <DisclosureButton>Click Me</DisclosureButton>\n      <DisclosurePanel>Collapse or open this content!</DisclosurePanel>\n    </div>\n  </Disclosure>\n\n  {/* Probably confusing, you should avoid! */}\n  <Disclosure>\n    <div>Mary had a little lamb, little lamb, blah blah blah</div>\n    <DisclosureButton>Click Me</DisclosureButton>\n    <DisclosurePanel>Collapse or open this content!</DisclosurePanel>\n    <blockquote>You miss 100% of the shots you don't take</blockquote>\n  </Disclosure>\n</div>\n")),(0,l.kt)("h5",{id:"disclosure-defaultopen"},"Disclosure defaultOpen"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"defaultOpen?: boolean")),(0,l.kt)("p",null,"Whether or not an uncontrolled disclosure component should default to its ",(0,l.kt)("inlineCode",{parentName:"p"},"open")," state on the initial render. Defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,l.kt)("h5",{id:"disclosure-id"},"Disclosure id"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"id?: string | number")),(0,l.kt)("p",null,"An id used to assign aria and id attributes to nested ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosureButton")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosurePanel")," components."),(0,l.kt)("p",null,"Since the Disclosure component itself does not render a DOM element, an ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," prop will not appear in the DOM directly as may be expected. Rather, we need to generate IDs for the panel and button based on a disclosure ID for aria compliance. If no ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," is passed we will generate descendant IDs for you."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'<Disclosure id="awesome-disclosure">\n  <div>\n    {" "}\n    {/* no ID passed here! */}\n    <DisclosureButton /> {/* <button id="awesome-disclosure--button" /> */}\n    <DisclosurePanel /> {/* <div id="awesome-disclosure--panel" /> */}\n  </div>\n</Disclosure>\n')),(0,l.kt)("h5",{id:"disclosure-onchange"},"Disclosure onChange"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"onChange?: () => void")),(0,l.kt)("p",null,"The callback that is fired when a disclosure's open state is changed."),(0,l.kt)("h5",{id:"disclosure-open"},"Disclosure open"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"open?: boolean")),(0,l.kt)("p",null,"The controlled open state of the disclosure. The ",(0,l.kt)("inlineCode",{parentName:"p"},"open")," prop should be used along with ",(0,l.kt)("inlineCode",{parentName:"p"},"onChange")," to create controlled disclosure components."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"const [open, setOpen] = React.useState(false);\nreturn (\n  <Disclosure open={open} onChange={() => setOpen(!open)}>\n    <DisclosureButton>I have a secret</DisclosureButton>\n    <DisclosurePanel>\n      Ante rhoncus facilisis iaculis nostra faucibus vehicula ac consectetur\n      pretium, lacus nunc consequat id viverra facilisi ligula eleifend, congue\n      gravida malesuada proin scelerisque luctus est convallis.\n    </DisclosurePanel>\n  </Disclosure>\n);\n")),(0,l.kt)("h3",{id:"disclosurebutton"},"DisclosureButton"),(0,l.kt)("p",null,"The trigger button a user clicks to interact with a disclosure."),(0,l.kt)("h4",{id:"disclosurebutton-css-selectors"},"DisclosureButton CSS Selectors"),(0,l.kt)("p",null,"Please see the ",(0,l.kt)("a",{parentName:"p",href:"/styling"},"styling guide"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-css"},'[data-reach-disclosure-button] {\n}\n[data-reach-disclosure-button][data-state="open"] {\n}\n[data-reach-disclosure-button][data-state="collapsed"] {\n}\n')),(0,l.kt)("h4",{id:"disclosurebutton-props"},"DisclosureButton Props"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Prop"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosurebutton-as"},(0,l.kt)("inlineCode",{parentName:"a"},"as"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")," ",(0,l.kt)(u.E,{mdxType:"Pipe"})," ",(0,l.kt)("inlineCode",{parentName:"td"},"Component")),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosurebutton-children"},(0,l.kt)("inlineCode",{parentName:"a"},"children"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"node")),(0,l.kt)("td",{parentName:"tr",align:null},"true")))),(0,l.kt)("h5",{id:"disclosurebutton-as"},"DisclosureButton as"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"as?: keyof JSX.IntrinsicElements | React.ComponentType")),(0,l.kt)("p",null,"A string representing an HTML element or a React component that will tell the ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosureButton")," what element to render. Defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"button"),"."),(0,l.kt)(i.F,{mdxType:"AsPropWarning"}),(0,l.kt)("h5",{id:"disclosurebutton-children"},"DisclosureButton children"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"children: React.ReactNode")),(0,l.kt)("p",null,"Typically a text string that serves as a label for the disclosure button, though nested DOM nodes can be passed as well so long as they are valid children of interactive elements."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Further reading:")," ",(0,l.kt)("a",{parentName:"li",href:"https://adrianroselli.com/2016/12/be-wary-of-nesting-roles.html"},(0,l.kt)("em",{parentName:"a"},"Be Wary of Nesting Roles")," by Adrian Roselli"))),(0,l.kt)("h3",{id:"disclosurepanel"},"DisclosurePanel"),(0,l.kt)("p",null,"The collapsible panel in which inner content for a disclosure item is rendered."),(0,l.kt)("h4",{id:"disclosurepanel-css-selectors"},"DisclosurePanel CSS Selectors"),(0,l.kt)("p",null,"Please see the ",(0,l.kt)("a",{parentName:"p",href:"/styling"},"styling guide"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-css"},'[data-reach-disclosure-panel] {\n}\n[data-reach-disclosure-panel][data-state="open"] {\n}\n[data-reach-disclosure-panel][data-state="collapsed"] {\n}\n')),(0,l.kt)("h4",{id:"disclosurepanel-props"},"DisclosurePanel Props"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Prop"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosurepanel-as"},(0,l.kt)("inlineCode",{parentName:"a"},"as"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")," ",(0,l.kt)(u.E,{mdxType:"Pipe"})," ",(0,l.kt)("inlineCode",{parentName:"td"},"Component")),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#disclosurepanel-children"},(0,l.kt)("inlineCode",{parentName:"a"},"children"))),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"node")),(0,l.kt)("td",{parentName:"tr",align:null},"true")))),(0,l.kt)("h5",{id:"disclosurepanel-as"},"DisclosurePanel as"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"as?: keyof JSX.IntrinsicElements | React.ComponentType")),(0,l.kt)("p",null,"A string representing an HTML element or a React component that will tell the ",(0,l.kt)("inlineCode",{parentName:"p"},"DisclosurePanel")," what element to render. Defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"div"),"."),(0,l.kt)(i.F,{mdxType:"AsPropWarning"}),(0,l.kt)("h5",{id:"disclosurepanel-children"},"DisclosurePanel children"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"children: React.ReactNode")),(0,l.kt)("p",null,"Inner collapsible content for the disclosure item."),(0,l.kt)("h3",{id:"usedisclosurecontext"},"useDisclosureContext"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"function useDisclosureContext(): { id: string | undefined; panelId: string; open: boolean }")),(0,l.kt)("p",null,"A hook that exposes data for a given ",(0,l.kt)("inlineCode",{parentName:"p"},"Disclosure")," component to its descendants."))}k.isMDXComponent=!0},8819:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var a=n(7294),l=n(9699);function r(){return a.createElement(l.j,null,a.createElement("p",null,a.createElement("strong",null,"NOTE:")," Many semantic elements, such as"," ",a.createElement("code",null,"button")," elements, have meaning to assistive devices and browsers that provide context for the user and, in many cases, provide or restrict interactive behaviors. Use caution when overriding our defaults and make sure that the element you choose to render provides the same experience for all users."))}},9699:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var a=n(7294),l=n(5505);function r(e){return a.createElement("div",Object.assign({},e,{className:(0,l.Z)(e.className,"Note-module--Note--2Ujzs")}))}},3989:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});var a=n(7294);function l(){return a.createElement(a.Fragment,null,"|")}},6182:function(e,t,n){"use strict";n.d(t,{Nt:function(){return p},B$:function(){return m},G6:function(){return k}});var a=n(5167),l=n(2265),r=n(7294),s=n(9042),o=["children","label"],i=["children","style"],u=["href","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.children,n=e.label,a=void 0===n?"Table of Contents":n,i=(0,l.Z)(e,o);return r.createElement("nav",Object.assign({className:"toc"},i),r.createElement(s.Z,null,r.createElement("h2",null,a)),t)}function m(e){var t=e.children,n=e.style,a=void 0===n?{}:n,s=(0,l.Z)(e,i);return r.createElement("ul",Object.assign({style:d({display:"block",padding:0,listStyle:"none"},a)},s),t)}function k(e){var t=e.href,n=e.children,a=(0,l.Z)(e,u);return r.createElement("li",{style:{display:"inline-block",margin:0,padding:0}},r.createElement("a",Object.assign({href:t},a),n))}}}]);
//# sourceMappingURL=component---src-pages-disclosure-mdx-18a93274f00720e92165.js.map